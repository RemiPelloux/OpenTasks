<%
const bodyContent = `
<div class="container max-w-2xl py-6">
  <div class="mb-8">
    <a href="/dashboard" class="inline-flex items-center text-sm text-muted-foreground hover:text-foreground mb-4">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="h-4 w-4 mr-1"><path d="m15 18-6-6 6-6"/></svg>
      Back to Dashboard
    </a>
    <h1 class="text-3xl font-bold tracking-tight">Create Project</h1>
    <p class="text-muted-foreground">Set up a new AI-powered development project</p>
  </div>
  
  <div class="rounded-lg border bg-card shadow-sm">
    ${typeof error !== 'undefined' && error ? '<div class="m-6 mb-0 rounded-lg border border-destructive/50 bg-destructive/10 p-3 text-sm text-destructive">' + error + '</div>' : ''}
    
    <form action="/dashboard/new-project" method="POST">
      <input type="hidden" name="_csrf" value="${csrfToken}">
      
      <div class="p-6 space-y-4">
        <div>
          <h3 class="font-semibold">Basic Information</h3>
          <p class="text-sm text-muted-foreground">Give your project a name and description</p>
        </div>
        
        <div class="space-y-2">
          <label for="name" class="text-sm font-medium leading-none">Project Name <span class="text-destructive">*</span></label>
          <input type="text" id="name" name="name" class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2" placeholder="My Awesome Project" required autofocus>
        </div>
        
        <div class="space-y-2">
          <label for="description" class="text-sm font-medium leading-none">Description</label>
          <textarea id="description" name="description" rows="3" class="flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 resize-y" placeholder="What is this project about?"></textarea>
        </div>
      </div>
      
      <div class="h-px bg-border"></div>
      
      <div class="p-6 space-y-4">
        <div>
          <h3 class="font-semibold flex items-center gap-2">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="h-5 w-5"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></svg>
            GitHub Repository
          </h3>
          <p class="text-sm text-muted-foreground">Connect a repository for the AI agent to work on</p>
        </div>
        
        <div class="space-y-2">
          <label for="githubRepoUrl" class="text-sm font-medium leading-none">Repository URL</label>
          <input type="url" id="githubRepoUrl" name="githubRepoUrl" class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2" placeholder="https://github.com/org/repo">
          <p class="text-xs text-muted-foreground">Cursor Cloud Agent handles GitHub authentication automatically</p>
        </div>
      </div>
      
      <div class="h-px bg-border"></div>
      
      <div class="p-6 space-y-4">
        <div>
          <h3 class="font-semibold flex items-center gap-2">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="h-5 w-5"><path d="M12 8V4H8"/><rect width="16" height="12" x="4" y="8" rx="2"/><path d="M2 14h2"/><path d="M20 14h2"/><path d="M15 13v2"/><path d="M9 13v2"/></svg>
            AI Configuration
          </h3>
          <p class="text-sm text-muted-foreground">Configure the Cursor Cloud Agent</p>
        </div>
        
        <div class="space-y-2">
          <label for="cursorApiKey" class="text-sm font-medium leading-none">Cursor API Key</label>
          <input type="password" id="cursorApiKey" name="cursorApiKey" class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm font-mono ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2" placeholder="key_xxxxx...">
          <p class="text-xs text-muted-foreground">Get your key from cursor.com/settings</p>
        </div>
        
        <div class="space-y-2">
          <label for="systemPrompt" class="text-sm font-medium leading-none">System Prompt</label>
          <textarea id="systemPrompt" name="systemPrompt" rows="4" class="flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 resize-y" placeholder="Instructions for the AI agent (coding standards, tech stack, etc.)"></textarea>
        </div>
        
        <div class="space-y-2">
          <label for="monthlyBudgetCents" class="text-sm font-medium leading-none">Monthly Budget (cents)</label>
          <input type="number" id="monthlyBudgetCents" name="monthlyBudgetCents" class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2" placeholder="10000" value="10000" min="0" max="1000000">
          <p class="text-xs text-muted-foreground">10000 = $100 maximum monthly API cost</p>
        </div>
      </div>
      
      <div class="flex items-center justify-end gap-4 p-6 border-t bg-muted/40">
        <a href="/dashboard" class="inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2">
          Cancel
        </a>
        <button type="submit" class="inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2">
          Create Project
        </button>
      </div>
    </form>
  </div>
</div>
`;
%>
<%- include('../layout', { body: bodyContent, title, csrfToken, isAuthenticated: true, user, currentPath }) %>
